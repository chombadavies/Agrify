!function(n){"use strict";var w,it,b,h,rt,ct,i,o,lt,ut,ft,at,k,f,v,et,vt,d,c,g,yt,u,e,l,a,r,ot,pt,t,s,y,wt,bt,kt,nt,st,p,tt,ht,dt,gt;n.fn.extend({venobox:function(ni){var ii=this,ti=n.extend({arrowsColor:"#B6B6B6",autoplay:!1,bgcolor:"#fff",border:"0",closeBackground:"#161617",closeColor:"#d2d2d2",framewidth:"",frameheight:"",gallItems:!1,infinigall:!1,htmlClose:"&times;",htmlNext:"<span>Next<\/span>",htmlPrev:"<span>Prev<\/span>",numeratio:!1,numerationBackground:"#161617",numerationColor:"#d2d2d2",numerationPosition:"top",overlayClose:!0,overlayColor:"rgba(23,23,23,0.85)",spinner:"double-bounce",spinColor:"#d2d2d2",titleattr:"title",titleBackground:"#161617",titleColor:"#d2d2d2",titlePosition:"top",cb_pre_open:function(){return!0},cb_post_open:function(){},cb_pre_close:function(){return!0},cb_post_close:function(){},cb_post_resize:function(){},cb_after_nav:function(){},cb_content_loaded:function(){},cb_init:function(){}},ni);return ti.cb_init(ii),this.each(function(){function li(){yt=t.data("gall");vt=t.data("numeratio");at=t.data("gallItems");k=t.data("infinigall");f=at||n('.vbox-item[data-gall="'+yt+'"]');u=f.eq(f.index(t)+1);e=f.eq(f.index(t)-1);u.length||!0!==k||(u=f.eq(0));f.length>=1?(s=f.index(t)+1,b.html(s+" / "+f.length)):s=1;!0===vt?b.show():b.hide();""!==g?h.show():h.hide();u.length||!0===k?(n(".vbox-next").css("display","block"),l=!0):(n(".vbox-next").css("display","none"),l=!1);f.index(t)>0||!0===k?(n(".vbox-prev").css("display","block"),a=!0):(n(".vbox-prev").css("display","none"),a=!1);!0!==a&&!0!==l||(i.on(ni.DOWN,ki),i.on(ni.MOVE,di),i.on(ni.UP,gi))}function ri(n){return!(n.length<1)&&!v&&(v=!0,d=n.data("overlay")||n.data("overlaycolor"),ut=n.data("framewidth"),ft=n.data("frameheight"),rt=n.data("border"),it=n.data("bgcolor"),o=n.data("href")||n.attr("href"),w=n.data("autoplay"),g=n.data("titleattr")&&n.attr(n.data("titleattr"))||"",n===e&&i.addClass("vbox-animated").addClass("swipe-right"),n===u&&i.addClass("vbox-animated").addClass("swipe-left"),ot.show(),void i.animate({opacity:0},500,function(){c.css("background",d);i.removeClass("vbox-animated").removeClass("swipe-left").removeClass("swipe-right").css({"margin-left":0,"margin-right":0});"iframe"==n.data("vbtype")?yi():"inline"==n.data("vbtype")?wi():"ajax"==n.data("vbtype")?vi():"video"==n.data("vbtype")?pi(w):(i.html('<img src="'+o+'">'),ci());t=n;li();v=!1;ti.cb_after_nav(t,s,u,e)}))}function ai(n){27===n.keyCode&&ei();37==n.keyCode&&!0===a&&ri(e);39==n.keyCode&&!0===l&&ri(u)}function ei(){if(!1===ti.cb_pre_close(t,s,u,e))return!1;n("body").off("keydown",ai).removeClass("vbox-open");t.focus();c.animate({opacity:0},500,function(){c.remove();v=!1;ti.cb_post_close()})}function ki(n){i.addClass("vbox-animated");kt=st=n.pageY;nt=p=n.pageX;y=!0}function di(n){if(!0===y){p=n.pageX;st=n.pageY;ht=p-nt;dt=st-kt;var t=Math.abs(ht);t>Math.abs(dt)&&t<=100&&(n.preventDefault(),i.css("margin-left",ht))}}function gi(){if(!0===y){y=!1;var n=t,r=!1;(tt=p-nt)<0&&!0===l&&(n=u,r=!0);tt>0&&!0===a&&(n=e,r=!0);Math.abs(tt)>=gt&&!0===r?ri(n):i.css({"margin-left":0,"margin-right":0})}}function vi(){n.ajax({url:o,cache:!1}).done(function(n){i.html('<div class="vbox-inline">'+n+"<\/div>");ci()}).fail(function(){i.html('<div class="vbox-inline"><p>Error retrieving contents, please retry<\/div>');ui()})}function yi(){i.html('<iframe class="venoframe" src="'+o+'"><\/iframe>');ui()}function pi(n){var t,r=function(n){var t;return n.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1?t="youtube":RegExp.$3.indexOf("vimeo")>-1&&(t="vimeo"),{type:t,id:RegExp.$6}}(o),u=(n?"?rel=0&autoplay=1":"?rel=0")+function(n){var i="",f=decodeURIComponent(n).split("?"),r,t,u;if(void 0!==f[1])for(u=f[1].split("&"),t=0;t<u.length;t++)r=u[t].split("="),i=i+"&"+r[0]+"="+r[1];return encodeURI(i)}(o);"vimeo"==r.type?t="https://player.vimeo.com/video/":"youtube"==r.type&&(t="https://www.youtube.com/embed/");i.html('<iframe class="venoframe vbvid" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="autoplay" frameborder="0" src="'+t+r.id+u+'"><\/iframe>');ui()}function wi(){i.html('<div class="vbox-inline">'+n(o).html()+"<\/div>");ui()}function ci(){(bt=i.find("img")).length?bt.each(function(){n(this).one("load",function(){ui()})}):ui()}function ui(){h.html(g);i.find(">:first-child").addClass("vbox-figlio").css({width:ut,height:ft,padding:rt,background:it});n("img.vbox-figlio").on("dragstart",function(n){n.preventDefault()});bi();i.animate({opacity:"1"},"slow",function(){ot.hide()});ti.cb_content_loaded(t,s,u,e)}function bi(){var t=i.outerHeight(),r=n(window).height();et=t+60<r?(r-t)/2:"30px";i.css("margin-top",et);i.css("margin-bottom",et);ti.cb_post_resize()}var oi;if((t=n(this)).data("venobox"))return!0;ii.VBclose=function(){ei()};t.addClass("vbox-item");t.data("framewidth",ti.framewidth);t.data("frameheight",ti.frameheight);t.data("border",ti.border);t.data("bgcolor",ti.bgcolor);t.data("numeratio",ti.numeratio);t.data("gallItems",ti.gallItems);t.data("infinigall",ti.infinigall);t.data("overlaycolor",ti.overlayColor);t.data("titleattr",ti.titleattr);t.data("venobox",!0);t.on("click",function(f){if(f.preventDefault(),t=n(this),!1===ti.cb_pre_open(t))return!1;switch(ii.VBnext=function(){ri(u)},ii.VBprev=function(){ri(e)},d=t.data("overlay")||t.data("overlaycolor"),ut=t.data("framewidth"),ft=t.data("frameheight"),w=t.data("autoplay")||ti.autoplay,rt=t.data("border"),it=t.data("bgcolor"),l=!1,a=!1,v=!1,o=t.data("href")||t.attr("href"),lt=t.data("css")||"",g=t.attr(t.data("titleattr"))||"",r='<div class="vbox-preloader">',ti.spinner){case"rotating-plane":r+='<div class="sk-rotating-plane"><\/div>';break;case"double-bounce":r+='<div class="sk-double-bounce"><div class="sk-child sk-double-bounce1"><\/div><div class="sk-child sk-double-bounce2"><\/div><\/div>';break;case"wave":r+='<div class="sk-wave"><div class="sk-rect sk-rect1"><\/div><div class="sk-rect sk-rect2"><\/div><div class="sk-rect sk-rect3"><\/div><div class="sk-rect sk-rect4"><\/div><div class="sk-rect sk-rect5"><\/div><\/div>';break;case"wandering-cubes":r+='<div class="sk-wandering-cubes"><div class="sk-cube sk-cube1"><\/div><div class="sk-cube sk-cube2"><\/div><\/div>';break;case"spinner-pulse":r+='<div class="sk-spinner sk-spinner-pulse"><\/div>';break;case"chasing-dots":r+='<div class="sk-chasing-dots"><div class="sk-child sk-dot1"><\/div><div class="sk-child sk-dot2"><\/div><\/div>';break;case"three-bounce":r+='<div class="sk-three-bounce"><div class="sk-child sk-bounce1"><\/div><div class="sk-child sk-bounce2"><\/div><div class="sk-child sk-bounce3"><\/div><\/div>';break;case"circle":r+='<div class="sk-circle"><div class="sk-circle1 sk-child"><\/div><div class="sk-circle2 sk-child"><\/div><div class="sk-circle3 sk-child"><\/div><div class="sk-circle4 sk-child"><\/div><div class="sk-circle5 sk-child"><\/div><div class="sk-circle6 sk-child"><\/div><div class="sk-circle7 sk-child"><\/div><div class="sk-circle8 sk-child"><\/div><div class="sk-circle9 sk-child"><\/div><div class="sk-circle10 sk-child"><\/div><div class="sk-circle11 sk-child"><\/div><div class="sk-circle12 sk-child"><\/div><\/div>';break;case"cube-grid":r+='<div class="sk-cube-grid"><div class="sk-cube sk-cube1"><\/div><div class="sk-cube sk-cube2"><\/div><div class="sk-cube sk-cube3"><\/div><div class="sk-cube sk-cube4"><\/div><div class="sk-cube sk-cube5"><\/div><div class="sk-cube sk-cube6"><\/div><div class="sk-cube sk-cube7"><\/div><div class="sk-cube sk-cube8"><\/div><div class="sk-cube sk-cube9"><\/div><\/div>';break;case"fading-circle":r+='<div class="sk-fading-circle"><div class="sk-circle1 sk-circle"><\/div><div class="sk-circle2 sk-circle"><\/div><div class="sk-circle3 sk-circle"><\/div><div class="sk-circle4 sk-circle"><\/div><div class="sk-circle5 sk-circle"><\/div><div class="sk-circle6 sk-circle"><\/div><div class="sk-circle7 sk-circle"><\/div><div class="sk-circle8 sk-circle"><\/div><div class="sk-circle9 sk-circle"><\/div><div class="sk-circle10 sk-circle"><\/div><div class="sk-circle11 sk-circle"><\/div><div class="sk-circle12 sk-circle"><\/div><\/div>';break;case"folding-cube":r+='<div class="sk-folding-cube"><div class="sk-cube1 sk-cube"><\/div><div class="sk-cube2 sk-cube"><\/div><div class="sk-cube4 sk-cube"><\/div><div class="sk-cube3 sk-cube"><\/div><\/div>'}return r+="<\/div>",pt='<a class="vbox-next">'+ti.htmlNext+'<\/a><a class="vbox-prev">'+ti.htmlPrev+"<\/a>",wt='<div class="vbox-title"><\/div><div class="vbox-num">0/0<\/div><div class="vbox-close">'+ti.htmlClose+"<\/div>",ct='<div class="vbox-overlay '+lt+'" style="background:'+d+'">'+r+'<div class="vbox-container"><div class="vbox-content"><\/div><\/div>'+wt+pt+"<\/div>",n("body").append(ct).addClass("vbox-open"),n(".vbox-preloader div:not(.sk-circle) .sk-child, .vbox-preloader .sk-rotating-plane, .vbox-preloader .sk-rect, .vbox-preloader div:not(.sk-folding-cube) .sk-cube, .vbox-preloader .sk-spinner-pulse").css("background-color",ti.spinColor),c=n(".vbox-overlay"),n(".vbox-container"),i=n(".vbox-content"),b=n(".vbox-num"),h=n(".vbox-title"),(ot=n(".vbox-preloader")).show(),h.css(ti.titlePosition,"-1px"),h.css({color:ti.titleColor,"background-color":ti.titleBackground}),n(".vbox-close").css({color:ti.closeColor,"background-color":ti.closeBackground}),n(".vbox-num").css(ti.numerationPosition,"-1px"),n(".vbox-num").css({color:ti.numerationColor,"background-color":ti.numerationBackground}),n(".vbox-next span, .vbox-prev span").css({"border-top-color":ti.arrowsColor,"border-right-color":ti.arrowsColor}),i.html(""),i.css("opacity","0"),c.css("opacity","0"),li(),c.animate({opacity:1},250,function(){"iframe"==t.data("vbtype")?yi():"inline"==t.data("vbtype")?wi():"ajax"==t.data("vbtype")?vi():"video"==t.data("vbtype")?pi(w):(i.html('<img src="'+o+'">'),ci());ti.cb_post_open(t,s,u,e)}),n("body").keydown(ai),n(".vbox-prev").on("click",function(){ri(e)}),n(".vbox-next").on("click",function(){ri(u)}),!1});oi=".vbox-overlay";ti.overlayClose||(oi=".vbox-close");n("body").on("click touchstart",oi,function(t){(n(t.target).is(".vbox-overlay")||n(t.target).is(".vbox-content")||n(t.target).is(".vbox-close")||n(t.target).is(".vbox-preloader")||n(t.target).is(".vbox-container"))&&ei()});nt=0;p=0;tt=0;gt=50;y=!1;var ni={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"},fi=function(t){var i,r;switch(t.type){case"mousedown":i=ni.DOWN;break;case"mouseup":case"mouseout":i=ni.UP;break;case"mousemove":i=ni.MOVE;break;default:return}r=hi(i,t,t.pageX,t.pageY);n(t.target).trigger(r)},si=function(t){var i,u,r;switch(t.type){case"touchstart":i=ni.DOWN;break;case"touchend":i=ni.UP;break;case"touchmove":i=ni.MOVE;break;default:return}r=t.originalEvent.touches[0];u=i==ni.UP?hi(i,t,null,null):hi(i,t,r.pageX,r.pageY);n(t.target).trigger(u)},hi=function(t,i,r,u){return n.Event(t,{pageX:r,pageY:u,originalEvent:i})};"ontouchstart"in window?(n(document).on("touchstart",si),n(document).on("touchmove",si),n(document).on("touchend",si)):(n(document).on("mousedown",fi),n(document).on("mouseup",fi),n(document).on("mouseout",fi),n(document).on("mousemove",fi));n(window).resize(function(){n(".vbox-content").length&&setTimeout(bi(),800)})})}})}(jQuery)